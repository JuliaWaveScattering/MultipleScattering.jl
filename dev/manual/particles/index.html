<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Particles · MultipleScattering.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../../"><img class="logo" src="../../assets/logo.png" alt="MultipleScattering.jl logo"/></a><h1>MultipleScattering.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="../intro/">Introduction</a></li><li><a class="toctext" href="../source/">Sources</a></li><li><a class="toctext" href="../shapes/">Shapes</a></li><li class="current"><a class="toctext" href>Particles</a><ul class="internal"><li><a class="toctext" href="#Placing-particles-in-a-region-1">Placing particles in a region</a></li><li><a class="toctext" href="#Placing-polydisperse-particles-in-a-region-1">Placing polydisperse particles in a region</a></li><li><a class="toctext" href="#Removing-particles-1">Removing particles</a></li><li><a class="toctext" href="#Particle-internals-1">Particle internals</a></li></ul></li><li><a class="toctext" href="../time_response/">Time response</a></li><li><a class="toctext" href="../plot/">Plotting</a></li><li><a class="toctext" href="../new_types/">New particles</a></li></ul></li><li><span class="toctext">Library</span><ul><li><a class="toctext" href="../../library/base/">Base</a></li><li><a class="toctext" href="../../library/acoustics/">Acoustic</a></li><li><a class="toctext" href="../../library/random/">Random</a></li></ul></li><li><a class="toctext" href="../../maths/README/">Theory</a></li><li><span class="toctext">Examples</span><ul><li><a class="toctext" href="../../example/README/">Overview</a></li><li><a class="toctext" href="../../example/box_size/README/">Box size</a></li><li><a class="toctext" href="../../example/hankel_convergence/README/">Convergence when increasing the number of Hankel functions</a></li><li><a class="toctext" href="../../example/moments/README/">StatisticalMoments</a></li><li><a class="toctext" href="../../example/near_surface_backscattering/README/">Near-surface backscattering</a></li><li><a class="toctext" href="../../example/random_particles/README/">Simple random particles example</a></li><li><a class="toctext" href="../../example/time_response_single_particle/README/">Time response from single particle</a></li><li><a class="toctext" href="../../example/two_particles/README/">OUT-DATED needs to be updated</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li><a href>Particles</a></li></ul><a class="edit-page" href="https://github.com/JuliaWaveScattering/MultipleScattering.jl/blob/master/docs/src/manual/particles.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Particles</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Particles-1" href="#Particles-1">Particles</a></h1><p><a href="../../library/base/#MultipleScattering.Particle"><code>Particle</code></a> is a <code>struct</code> which define a scatterer, obstacle, or simply particle, which can scatter waves. See <a href="../../library/base/#base_particle-1">Particle</a> for a list of relevant types and functions.</p><p>A <code>Particle</code> have two fields: <code>medium</code> and <code>shape</code>. The <code>medium</code> defines what kind of waves can propagate inside <code>Particle</code>, and what type of <code>Source</code> can be used to scatter waves from <code>Particle</code>. One example <code>medium</code> is <a href="../../library/acoustics/#Acoustic-1">Acoustic</a>. The <code>shape</code> completely defines the geometry and position of the particle, see <a href="../shapes/#Shapes-1">Shapes</a> for details.</p><p>For an example we can define a circular particle with acoustics medium:</p><p>particle_medium =  Acoustic(2; ρ=10.0, c=2.0); # 2D acoustic particle with density ρ = 10.0 and soundspeed c = 2.0</p><pre><code class="language-julia">mymedium = Acoustic(2; ρ=10.0, c=2.0); # 2D acoustics with density ρ = 10.0 and soundspeed c = 2.0
myshape = Circle([-2.0,2.0], 2.0);
p1 = Particle(mymedium, myshape);
MultipleScattering.shape(p1) # we use &quot;MultipleScattering.&quot; just in case the function shape is already defined</code></pre><h2><a class="nav-anchor" id="Placing-particles-in-a-region-1" href="#Placing-particles-in-a-region-1">Placing particles in a region</a></h2><p>Suppose we want to place many circular particles in a region. The region has to be a pre-defined <code>Shape</code>, for example a <code>Circle</code>:</p><pre><code class="language-julia"># Define the region
centre = [0.,0.]
big_radius = 3.0
circle = Circle(centre, big_radius)

# Define the particle geometry and medium
p_radius = 0.3
myshape = Circle(p_radius) # we do not specify centre as it is not used by random_particles
mymedium = Acoustic(2; ρ=10.0, c=2.0);

# Generate particles inside circle
volfrac = 0.2
particles = random_particles(mymedium, myshape; region_shape = circle, volume_fraction = volfrac, seed=1);

using Plots
plot(particles)
plot!(circle, linecolor = :red)</code></pre><p><img src="../../assets/particles-in-circle.png" alt="Particles in circle"/></p><h2><a class="nav-anchor" id="Placing-polydisperse-particles-in-a-region-1" href="#Placing-polydisperse-particles-in-a-region-1">Placing polydisperse particles in a region</a></h2><p>Similar to the above, we can place particles with a range of shapes.</p><p>Suppose we want to add to the above example a range of smaller particles:</p><pre><code class="language-julia">
# Define a range of particles sizes
rs = [0.05,0.15,0.15,0.2]; # by repeating the radius 0.15 twice, there will be twice as many particles with this radius.
myshapes = Circle.(rs)
mymedium = Acoustic(2; ρ=0.2, c=0.2);

# Generate particles inside circle
volfrac = 0.15
polydisperse_particles = random_particles(mymedium, myshapes;
    current_particles = particles,
    region_shape = circle,
    volume_fraction = volfrac,
    seed=1
);

plot(polydisperse_particles, linecolor = :green)
plot!(particles, linewidth = 2.0)
plot!(circle, linecolor = :red)</code></pre><p><img src="../../assets/poly-particles-in-circle.png" alt="Particles in circle"/></p><h2><a class="nav-anchor" id="Removing-particles-1" href="#Removing-particles-1">Removing particles</a></h2><p>Say we want to place a point-source within region filled with particles. To avoid placing the source inside any particle, we can remove a small region of particles:</p><pre><code class="language-julia">small_circle = Circle(1.2)

filter!(p -&gt; !(p ⊆ small_circle), polydisperse_particles)

plot(polydisperse_particles, linecolor = :green)
plot!(circle, linecolor = :red)</code></pre><p><img src="../../assets/poly-particles-in-circle2.png" alt="Particles in circle"/></p><p>next we place a point source in the centre and plot the result, while excluding a small region <code>Circle(0.1)</code> to avoid the singularity caused by a point source:</p><pre><code class="language-julia">ω = 0.4
point_wave = point_source(Acoustic(2; ρ=1.0, c=1.0), [0.0,0.0]);
sim = FrequencySimulation(polydisperse_particles, point_wave);
plot(sim, ω; res=20,
       exclude_region = Circle(0.1),
       drawparticles=true
)</code></pre><p><img src="../../assets/poly-particles-sim.png" alt="Particles in circle"/></p><h2><a class="nav-anchor" id="Particle-internals-1" href="#Particle-internals-1">Particle internals</a></h2><p>To define the scattering from a particle we use the T-matrix method. This package only exports T-matrix for circular <a href="../../library/base/#MultipleScattering.Particle"><code>Particle</code></a>  and circular <a href="../../library/base/#MultipleScattering.CapsuleParticle"><code>CapsuleParticle</code></a>. To understand how to define new T-matrix read <a href="../../maths/T-matrix.pdf">Notes on the T-matrix</a> and see the source code of <a href="../../library/base/#MultipleScattering.t_matrix"><code>t_matrix</code></a>.</p><footer><hr/><a class="previous" href="../shapes/"><span class="direction">Previous</span><span class="title">Shapes</span></a><a class="next" href="../time_response/"><span class="direction">Next</span><span class="title">Time response</span></a></footer></article></body></html>
